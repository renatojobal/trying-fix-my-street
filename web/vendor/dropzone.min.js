(function(){var a={};window.EXIF=a;function b(f,d){var l="";for(var e=d;e<d+4;e++){l+=String.fromCharCode(f.getUint8(e))}if(l!="Exif"){return false}var j,m=d+6;if(f.getUint16(m)==18761){j=false}else{if(f.getUint16(m)==19789){j=true}else{return false}}if(f.getUint16(m+2,!j)!=42){return false}var c=f.getUint32(m+4,!j);if(c<8){return false}var p=m+c,h=f.getUint16(p,!j),o={},k,g;for(g=0;g<h;g++){k=p+g*12+2;if(f.getUint16(k,!j)==274){return parseInt(f.getUint16(k+8,!j),10)}}return false}a.getData=function(l){if((l instanceof Image||l instanceof HTMLImageElement)&&!l.complete){return false}var k=l.src;if(k.match(/^http/)){var d=document.createElement("canvas"),q=d.getContext("2d");d.width=l.width;d.height=l.height;q.drawImage(l,0,0);k=d.toDataURL("image/jpeg")}var m=k.replace(/^data\:([^\;]+)\;base64,/gmi,"");var j=atob(m);var n=j.length;var e=new ArrayBuffer(n);var o=new Uint8Array(e);for(var h=0;h<n;h++){o[h]=j.charCodeAt(h)}var p=new DataView(e);if((p.getUint8(0)!=255)||(p.getUint8(1)!=216)){return false}var f=2,c=e.byteLength,g;while(f<c){if(p.getUint8(f)!=255){return false}g=p.getUint8(f+1);if(g==225){return b(p,f+4)}else{f+=2+p.getUint16(f+2)}}}})();(function(){var g,i,f,c,d,b,e,l,k,j=[].slice,a=function(p,n){for(var m in n){if(h.call(n,m)){p[m]=n[m]}}function o(){this.constructor=p}o.prototype=n.prototype;p.prototype=new o();p.__super__=n.prototype;return p},h={}.hasOwnProperty;l=function(){};i=(function(){function m(){}m.prototype.addEventListener=m.prototype.on;m.prototype.on=function(o,n){this._callbacks=this._callbacks||{};if(!this._callbacks[o]){this._callbacks[o]=[]}this._callbacks[o].push(n);return this};m.prototype.emit=function(){var p,s,r,q,o,n;q=arguments[0],p=2<=arguments.length?j.call(arguments,1):[];this._callbacks=this._callbacks||{};r=this._callbacks[q];if(r){for(o=0,n=r.length;o<n;o++){s=r[o];s.apply(this,p)}}return this};m.prototype.removeListener=m.prototype.off;m.prototype.removeAllListeners=m.prototype.off;m.prototype.removeEventListener=m.prototype.off;m.prototype.off=function(s,q){var t,r,p,o,n;if(!this._callbacks||arguments.length===0){this._callbacks={};return this}r=this._callbacks[s];if(!r){return this}if(arguments.length===1){delete this._callbacks[s];return this}for(p=o=0,n=r.length;o<n;p=++o){t=r[p];if(t===q){r.splice(p,1);break}}return this};return m})();g=(function(o){var p,m;a(n,o);n.prototype.Emitter=i;n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];n.prototype.defaultOptions={url:null,method:"post",withCredentials:false,timeout:30000,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:0.8,resizeMethod:"contain",filesizeBase:1000,maxFiles:null,params:{},headers:null,clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:false,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){return l},accept:function(r,q){return q()},fallback:function(){var v,r,q,s,u,t;this.element.className=this.element.className+" dz-browser-not-supported";u=this.element.getElementsByTagName("div");for(r=0,q=u.length;r<q;r++){v=u[r];if(/(^| )dz-message($| )/.test(v.className)){s=v;v.className="dz-message";continue}}if(!s){s=n.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(s)}t=s.getElementsByTagName("span")[0];if(t){if(t.textContent!=null){t.textContent=this.options.dictFallbackMessage}else{if(t.innerText!=null){t.innerText=this.options.dictFallbackMessage}}}return this.element.appendChild(this.getFallbackForm())},resize:function(s,u,q,w){var v,t,r;v={srcX:0,srcY:0,srcWidth:s.width,srcHeight:s.height};t=s.width/s.height;if((u==null)&&(q==null)){u=v.srcWidth;q=v.srcHeight}else{if(u==null){u=q*t}else{if(q==null){q=u/t}}}u=Math.min(u,v.srcWidth);q=Math.min(q,v.srcHeight);r=u/q;if(v.srcWidth>u||v.srcHeight>q){if(w==="crop"){if(t>r){v.srcHeight=s.height;v.srcWidth=v.srcHeight*r}else{v.srcWidth=s.width;v.srcHeight=v.srcWidth/r}}else{if(w==="contain"){if(t>r){q=u/t}else{u=q*t}}else{throw new Error("Unknown resizeMethod '"+w+"'")}}}v.srcX=(s.width-v.srcWidth)/2;v.srcY=(s.height-v.srcHeight)/2;v.trgWidth=u;v.trgHeight=q;return v},transformFile:function(r,q){if((this.options.resizeWidth||this.options.resizeHeight)&&r.type.match(/image.*/)){return this.resizeImage(r,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,q)}else{return q(r)}},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(q){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(q){return this.element.classList.remove("dz-drag-hover")},dragenter:function(q){return this.element.classList.add("dz-drag-hover")},dragover:function(q){return this.element.classList.add("dz-drag-hover")},dragleave:function(q){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(s){var w,u,t,B,x,v,r,q,C,A,z,D,y;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}if(this.previewsContainer){s.previewElement=n.createElement(this.options.previewTemplate.trim());s.previewTemplate=s.previewElement;this.previewsContainer.appendChild(s.previewElement);q=s.previewElement.querySelectorAll("[data-dz-name]");for(w=0,B=q.length;w<B;w++){r=q[w];r.textContent=s.name}C=s.previewElement.querySelectorAll("[data-dz-size]");for(u=0,x=C.length;u<x;u++){r=C[u];r.innerHTML=this.filesize(s.size)}if(this.options.addRemoveLinks){s._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");s.previewElement.appendChild(s._removeLink)}z=(function(E){return function(F){F.preventDefault();F.stopPropagation();if(s.status===n.UPLOADING){return n.confirm(E.options.dictCancelUploadConfirmation,function(){return E.removeFile(s)})}else{if(E.options.dictRemoveFileConfirmation){return n.confirm(E.options.dictRemoveFileConfirmation,function(){return E.removeFile(s)})}else{return E.removeFile(s)}}}})(this);A=s.previewElement.querySelectorAll("[data-dz-remove]");y=[];for(t=0,v=A.length;t<v;t++){D=A[t];y.push(D.addEventListener("click",z))}return y}},removedfile:function(q){var r;if(q.previewElement){if((r=q.previewElement)!=null){r.parentNode.removeChild(q.previewElement)}}return this._updateMaxFilesReachedClass()},thumbnail:function(t,v){var s,q,u,r;if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");u=t.previewElement.querySelectorAll("[data-dz-thumbnail]");for(s=0,q=u.length;s<q;s++){r=u[s];r.alt=t.name;r.src=v}return setTimeout(((function(w){return function(){return t.previewElement.classList.add("dz-image-preview")}})(this)),1)}},error:function(t,w){var r,q,v,u,s;if(t.previewElement){t.previewElement.classList.add("dz-error");if(typeof w!=="String"&&w.error){w=w.error}u=t.previewElement.querySelectorAll("[data-dz-errormessage]");s=[];for(r=0,q=u.length;r<q;r++){v=u[r];s.push(v.textContent=w)}return s}},errormultiple:l,processing:function(q){if(q.previewElement){q.previewElement.classList.add("dz-processing");if(q._removeLink){return q._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:l,uploadprogress:function(v,s,u){var r,q,x,w,t;if(v.previewElement){w=v.previewElement.querySelectorAll("[data-dz-uploadprogress]");t=[];for(r=0,q=w.length;r<q;r++){x=w[r];if(x.nodeName==="PROGRESS"){t.push(x.value=s)}else{t.push(x.style.width=s+"%")}}return t}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(q){if(q.previewElement){return q.previewElement.classList.add("dz-success")}},successmultiple:l,canceled:function(q){return this.emit("error",q,"Upload canceled.")},canceledmultiple:l,complete:function(q){if(q._removeLink){q._removeLink.textContent=this.options.dictRemoveFile}if(q.previewElement){return q.previewElement.classList.add("dz-complete")}},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,queuecomplete:l,addedfiles:l};p=function(){var s,t,q,r,u,v,w;v=arguments[0],u=2<=arguments.length?j.call(arguments,1):[];for(s=0,q=u.length;s<q;s++){r=u[s];for(t in r){w=r[t];v[t]=w}}return v};function n(t,r){var q,u,s;this.element=t;this.version=n.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}n.instances.push(this);this.element.dropzone=this;q=(s=n.optionsForElement(this.element))!=null?s:{};this.options=p({},this.defaultOptions,q,r!=null?r:{});if(this.options.forceFallback||!n.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}if(this.options.renameFilename!=null){this.options.renameFile=(function(v){return function(w){return v.options.renameFilename.call(v,w.name,w)}})(this)}this.options.method=this.options.method.toUpperCase();if((u=this.getExistingFallback())&&u.parentNode){u.parentNode.removeChild(u)}if(this.options.previewsContainer!==false){if(this.options.previewsContainer){this.previewsContainer=n.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=n.getElements(this.options.clickable,"clickable")}}this.init()}n.prototype.getAcceptedFiles=function(){var t,r,q,u,s;u=this.files;s=[];for(r=0,q=u.length;r<q;r++){t=u[r];if(t.accepted){s.push(t)}}return s};n.prototype.getRejectedFiles=function(){var t,r,q,u,s;u=this.files;s=[];for(r=0,q=u.length;r<q;r++){t=u[r];if(!t.accepted){s.push(t)}}return s};n.prototype.getFilesWithStatus=function(r){var u,s,q,v,t;v=this.files;t=[];for(s=0,q=v.length;s<q;s++){u=v[s];if(u.status===r){t.push(u)}}return t};n.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(n.QUEUED)};n.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(n.UPLOADING)};n.prototype.getAddedFiles=function(){return this.getFilesWithStatus(n.ADDED)};n.prototype.getActiveFiles=function(){var t,r,q,u,s;u=this.files;s=[];for(r=0,q=u.length;r<q;r++){t=u[r];if(t.status===n.UPLOADING||t.status===n.QUEUED){s.push(t)}}return s};n.prototype.init=function(){var s,t,q,w,u,r,v;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){v=(function(x){return function(){if(x.hiddenFileInput){x.hiddenFileInput.parentNode.removeChild(x.hiddenFileInput)}x.hiddenFileInput=document.createElement("input");x.hiddenFileInput.setAttribute("type","file");if((x.options.maxFiles==null)||x.options.maxFiles>1){x.hiddenFileInput.setAttribute("multiple","multiple")}x.hiddenFileInput.className="dz-hidden-input";if(x.options.acceptedFiles!=null){x.hiddenFileInput.setAttribute("accept",x.options.acceptedFiles)}if(x.options.capture!=null){x.hiddenFileInput.setAttribute("capture",x.options.capture)}x.hiddenFileInput.style.visibility="hidden";x.hiddenFileInput.style.position="absolute";x.hiddenFileInput.style.top="0";x.hiddenFileInput.style.left="0";x.hiddenFileInput.style.height="0";x.hiddenFileInput.style.width="0";document.querySelector(x.options.hiddenInputContainer).appendChild(x.hiddenFileInput);return x.hiddenFileInput.addEventListener("change",function(){var A,B,z,y;B=x.hiddenFileInput.files;if(B.length){for(z=0,y=B.length;z<y;z++){A=B[z];x.addFile(A)}}x.emit("addedfiles",B);return v()})}})(this);v()}this.URL=(u=window.URL)!=null?u:window.webkitURL;r=this.events;for(t=0,q=r.length;t<q;t++){s=r[t];this.on(s,this.options[s])}this.on("uploadprogress",(function(x){return function(){return x.updateTotalUploadProgress()}})(this));this.on("removedfile",(function(x){return function(){return x.updateTotalUploadProgress()}})(this));this.on("canceled",(function(x){return function(y){return x.emit("complete",y)}})(this));this.on("complete",(function(x){return function(y){if(x.getAddedFiles().length===0&&x.getUploadingFiles().length===0&&x.getQueuedFiles().length===0){return setTimeout((function(){return x.emit("queuecomplete")}),0)}}})(this));w=function(x){x.stopPropagation();if(x.preventDefault){return x.preventDefault()}else{return x.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:(function(x){return function(y){return x.emit("dragstart",y)}})(this),dragenter:(function(x){return function(y){w(y);return x.emit("dragenter",y)}})(this),dragover:(function(x){return function(z){var y;try{y=z.dataTransfer.effectAllowed}catch(A){}z.dataTransfer.dropEffect="move"===y||"linkMove"===y?"move":"copy";w(z);return x.emit("dragover",z)}})(this),dragleave:(function(x){return function(y){return x.emit("dragleave",y)}})(this),drop:(function(x){return function(y){w(y);return x.drop(y)}})(this),dragend:(function(x){return function(y){return x.emit("dragend",y)}})(this)}}];this.clickableElements.forEach((function(x){return function(y){return x.listeners.push({element:y,events:{click:function(z){if((y!==x.element)||(z.target===x.element||n.elementInside(z.target,x.element.querySelector(".dz-message")))){x.hiddenFileInput.click()}return true}}})}})(this));this.enable();return this.options.init.call(this)};n.prototype.destroy=function(){var q;this.disable();this.removeAllFiles(true);if((q=this.hiddenFileInput)!=null?q.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return n.instances.splice(n.instances.indexOf(this),1)};n.prototype.updateTotalUploadProgress=function(){var t,u,s,r,v,x,q,w;q=0;x=0;t=this.getActiveFiles();if(t.length){v=this.getActiveFiles();for(s=0,r=v.length;s<r;s++){u=v[s];q+=u.upload.bytesSent;x+=u.upload.total}w=100*q/x}else{w=100}return this.emit("totaluploadprogress",w,x,q)};n.prototype._getParamName=function(q){if(typeof this.options.paramName==="function"){return this.options.paramName(q)}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+q+"]":"")}};n.prototype._renameFile=function(q){if(typeof this.options.renameFile!=="function"){return q.name}return this.options.renameFile(q)};n.prototype.getFallbackForm=function(){var r,q,t,s;if(r=this.getExistingFallback()){return r}t='<div class="dz-fallback">';if(this.options.dictFallbackText){t+="<p>"+this.options.dictFallbackText+"</p>"}t+='<input type="file" name="'+(this._getParamName(0))+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';q=n.createElement(t);if(this.element.tagName!=="FORM"){s=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');s.appendChild(q)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return s!=null?s:q};n.prototype.getExistingFallback=function(){var v,t,r,q,u,s;t=function(z){var y,x,w;for(x=0,w=z.length;x<w;x++){y=z[x];if(/(^| )fallback($| )/.test(y.className)){return y}}};u=["div","form"];for(r=0,q=u.length;r<q;r++){s=u[r];if(v=t(this.element.getElementsByTagName(s))){return v}}};n.prototype.setupEventListeners=function(){var v,u,r,q,w,t,s;t=this.listeners;s=[];for(r=0,q=t.length;r<q;r++){v=t[r];s.push((function(){var x,y;x=v.events;y=[];for(u in x){w=x[u];y.push(v.element.addEventListener(u,w,false))}return y})())}return s};n.prototype.removeEventListeners=function(){var v,u,r,q,w,t,s;t=this.listeners;s=[];for(r=0,q=t.length;r<q;r++){v=t[r];s.push((function(){var x,y;x=v.events;y=[];for(u in x){w=x[u];y.push(v.element.removeEventListener(u,w,false))}return y})())}return s};n.prototype.disable=function(){var t,r,q,u,s;this.clickableElements.forEach(function(v){return v.classList.remove("dz-clickable")});this.removeEventListeners();u=this.files;s=[];for(r=0,q=u.length;r<q;r++){t=u[r];s.push(this.cancelUpload(t))}return s};n.prototype.enable=function(){this.clickableElements.forEach(function(q){return q.classList.add("dz-clickable")});return this.setupEventListeners()};n.prototype.filesize=function(y){var r,u,t,v,s,q,x,w;s=0;q="b";if(y>0){w=["tb","gb","mb","kb","b"];for(u=t=0,v=w.length;t<v;u=++t){x=w[u];r=Math.pow(this.options.filesizeBase,4-u)/10;if(y>=r){s=y/Math.pow(this.options.filesizeBase,4-u);q=x;break}}s=Math.round(10*s)/10}return"<strong>"+s+"</strong> "+this.options.dictFileSizeUnits[q]};n.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};n.prototype.drop=function(s){var r,q;if(!s.dataTransfer){return}this.emit("drop",s);r=s.dataTransfer.files;this.emit("addedfiles",r);if(r.length){q=s.dataTransfer.items;if(q&&q.length&&(q[0].webkitGetAsEntry!=null)){this._addFilesFromItems(q)}else{this.handleFiles(r)}}};n.prototype.paste=function(s){var q,r;if((s!=null?(r=s.clipboardData)!=null?r.items:void 0:void 0)==null){return}this.emit("paste",s);q=s.clipboardData.items;if(q.length){return this._addFilesFromItems(q)}};n.prototype.handleFiles=function(u){var t,r,q,s;s=[];for(r=0,q=u.length;r<q;r++){t=u[r];s.push(this.addFile(t))}return s};n.prototype._addFilesFromItems=function(r){var v,u,s,q,t;t=[];for(s=0,q=r.length;s<q;s++){u=r[s];if((u.webkitGetAsEntry!=null)&&(v=u.webkitGetAsEntry())){if(v.isFile){t.push(this.addFile(u.getAsFile()))}else{if(v.isDirectory){t.push(this._addFilesFromDirectory(v,v.name))}else{t.push(void 0)}}}else{if(u.getAsFile!=null){if((u.kind==null)||u.kind==="file"){t.push(this.addFile(u.getAsFile()))}else{t.push(void 0)}}else{t.push(void 0)}}}return t};n.prototype._addFilesFromDirectory=function(q,u){var t,s,r;t=q.createReader();s=function(v){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(v):void 0:void 0};r=(function(v){return function(){return t.readEntries(function(x){var z,y,w;if(x.length>0){for(y=0,w=x.length;y<w;y++){z=x[y];if(z.isFile){z.file(function(A){if(v.options.ignoreHiddenFiles&&A.name.substring(0,1)==="."){return}A.fullPath=u+"/"+A.name;return v.addFile(A)})}else{if(z.isDirectory){v._addFilesFromDirectory(z,u+"/"+z.name)}}}r()}return null},s)}})(this);return r()};n.prototype.accept=function(r,q){if(r.size>this.options.maxFilesize*1024*1024){return q(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(r.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!n.isValidFile(r,this.options.acceptedFiles)){return q(this.options.dictInvalidFileType)}else{if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){q(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",r)}else{return this.options.accept.call(this,r,q)}}}};n.prototype.addFile=function(q){q.upload={progress:0,total:q.size,bytesSent:0,filename:this._renameFile(q)};this.files.push(q);q.status=n.ADDED;this.emit("addedfile",q);this._enqueueThumbnail(q);return this.accept(q,(function(r){return function(s){if(s){q.accepted=false;r._errorProcessing([q],s)}else{q.accepted=true;if(r.options.autoQueue){r.enqueueFile(q)}}return r._updateMaxFilesReachedClass()}})(this))};n.prototype.enqueueFiles=function(t){var s,r,q;for(r=0,q=t.length;r<q;r++){s=t[r];this.enqueueFile(s)}return null};n.prototype.enqueueFile=function(q){if(q.status===n.ADDED&&q.accepted===true){q.status=n.QUEUED;if(this.options.autoProcessQueue){return setTimeout(((function(r){return function(){return r.processQueue()}})(this)),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};n.prototype._thumbnailQueue=[];n.prototype._processingThumbnail=false;n.prototype._enqueueThumbnail=function(q){if(this.options.createImageThumbnails&&q.type.match(/image.*/)&&q.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(q);return setTimeout(((function(r){return function(){return r._processThumbnailQueue()}})(this)),0)}};n.prototype._processThumbnailQueue=function(){var q;if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;q=this._thumbnailQueue.shift();return this.createThumbnail(q,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,true,(function(r){return function(s){r.emit("thumbnail",q,s);r._processingThumbnail=false;return r._processThumbnailQueue()}})(this))};n.prototype.removeFile=function(q){if(q.status===n.UPLOADING){this.cancelUpload(q)}this.files=k(this.files,q);this.emit("removedfile",q);if(this.files.length===0){return this.emit("reset")}};n.prototype.removeAllFiles=function(u){var s,r,q,t;if(u==null){u=false}t=this.files.slice();for(r=0,q=t.length;r<q;r++){s=t[r];if(s.status!==n.UPLOADING||u){this.removeFile(s)}}return null};n.prototype.resizeImage=function(r,s,q,t,u){return this.createThumbnail(r,s,q,t,false,(function(v){return function(z,w){var x,y;if(w===null){return u(r)}else{x=v.options.resizeMimeType;if(x==null){x=r.type}y=w.toDataURL(x,v.options.resizeQuality);if(x==="image/jpeg"||x==="image/jpg"){y=f.restore(r.dataURL,y)}return u(n.dataURItoBlob(y))}}})(this))};n.prototype.createThumbnail=function(t,u,q,v,s,w){var r;r=new FileReader;r.onload=(function(x){return function(){t.dataURL=r.result;if(t.type==="image/svg+xml"){if(w!=null){w(r.result)}return}return x.createThumbnailFromUrl(t,u,q,v,s,w)}})(this);return r.readAsDataURL(t)};n.prototype.createThumbnailFromUrl=function(u,v,q,w,t,x,s){var r;r=document.createElement("img");if(s){r.crossOrigin=s}r.onload=(function(y){return function(){var z;z=function(A){return A(1)};if((typeof EXIF!=="undefined"&&EXIF!==null)&&t){z=function(A){return A(EXIF.getData(r))}}return z(function(B){var C,I,D,G,F,E,H,A;u.width=r.width;u.height=r.height;H=y.options.resize.call(y,u,v,q,w);C=document.createElement("canvas");I=C.getContext("2d");C.width=H.trgWidth;C.height=H.trgHeight;if(B>4){C.width=H.trgHeight;C.height=H.trgWidth}switch(B){case 2:I.translate(C.width,0);I.scale(-1,1);break;case 3:I.translate(C.width,C.height);I.rotate(Math.PI);break;case 4:I.translate(0,C.height);I.scale(1,-1);break;case 5:I.rotate(0.5*Math.PI);I.scale(1,-1);break;case 6:I.rotate(0.5*Math.PI);I.translate(0,-C.height);break;case 7:I.rotate(0.5*Math.PI);I.translate(C.width,-C.height);I.scale(-1,1);break;case 8:I.rotate(-0.5*Math.PI);I.translate(-C.width,0)}e(I,r,(D=H.srcX)!=null?D:0,(G=H.srcY)!=null?G:0,H.srcWidth,H.srcHeight,(F=H.trgX)!=null?F:0,(E=H.trgY)!=null?E:0,H.trgWidth,H.trgHeight);A=C.toDataURL("image/png");if(x!=null){return x(A,C)}})}})(this);if(x!=null){r.onerror=x}return r.src=u.dataURL};n.prototype.processQueue=function(){var r,t,q,s;t=this.options.parallelUploads;q=this.getUploadingFiles().length;r=q;if(q>=t){return}s=this.getQueuedFiles();if(!(s.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(s.slice(0,t-q))}else{while(r<t){if(!s.length){return}this.processFile(s.shift());r++}}};n.prototype.processFile=function(q){return this.processFiles([q])};n.prototype.processFiles=function(t){var s,r,q;for(r=0,q=t.length;r<q;r++){s=t[r];s.processing=true;s.status=n.UPLOADING;this.emit("processing",s)}if(this.options.uploadMultiple){this.emit("processingmultiple",t)}return this.uploadFiles(t)};n.prototype._getFilesWithXhr=function(s){var q,r;return r=(function(){var u,t,w,v;w=this.files;v=[];for(u=0,t=w.length;u<t;u++){q=w[u];if(q.xhr===s){v.push(q)}}return v}).call(this)};n.prototype.cancelUpload=function(w){var r,v,u,s,q,t,x;if(w.status===n.UPLOADING){v=this._getFilesWithXhr(w.xhr);for(u=0,q=v.length;u<q;u++){r=v[u];r.status=n.CANCELED}w.xhr.abort();for(s=0,t=v.length;s<t;s++){r=v[s];this.emit("canceled",r)}if(this.options.uploadMultiple){this.emit("canceledmultiple",v)}}else{if((x=w.status)===n.ADDED||x===n.QUEUED){w.status=n.CANCELED;this.emit("canceled",w);if(this.options.uploadMultiple){this.emit("canceledmultiple",[w])}}}if(this.options.autoProcessQueue){return this.processQueue()}};m=function(){var q,r;r=arguments[0],q=2<=arguments.length?j.call(arguments,1):[];if(typeof r==="function"){return r.apply(this,q)}return r};n.prototype.uploadFile=function(q){return this.uploadFiles([q])};n.prototype.uploadFiles=function(L){var K,O,I,r,aa,M,v,R,Y,q,J,u,X,W,F,V,G,z,y,x,U,Z,S,N,T,P,E,D,C,B,A,s,H,w,t,Q,ab;ab=new XMLHttpRequest();for(X=0,G=L.length;X<G;X++){I=L[X];I.xhr=ab}Z=m(this.options.method,L);t=m(this.options.url,L);ab.open(Z,t,true);ab.timeout=m(this.options.timeout,L);ab.withCredentials=!!this.options.withCredentials;s=null;aa=(function(ac){return function(){var ad,ae,af;af=[];for(ad=0,ae=L.length;ad<ae;ad++){I=L[ad];af.push(ac._errorProcessing(L,s||ac.options.dictResponseError.replace("{{statusCode}}",ab.status),ab))}return af}})(this);w=(function(ac){return function(am){var ae,ai,ag,ak,aj,ah,af,ad,al;if(am!=null){ad=100*am.loaded/am.total;for(ai=0,ak=L.length;ai<ak;ai++){I=L[ai];I.upload.progress=ad;I.upload.total=am.total;I.upload.bytesSent=am.loaded}}else{ae=true;ad=100;for(ag=0,aj=L.length;ag<aj;ag++){I=L[ag];if(!(I.upload.progress===100&&I.upload.bytesSent===I.upload.total)){ae=false}I.upload.progress=ad;I.upload.bytesSent=I.upload.total}if(ae){return}}al=[];for(af=0,ah=L.length;af<ah;af++){I=L[af];al.push(ac.emit("uploadprogress",I,ad,I.upload.bytesSent))}return al}})(this);ab.onload=(function(ac){return function(ae){var af,ad;if(L[0].status===n.CANCELED){return}if(ab.readyState!==4){return}if(ab.responseType!=="arraybuffer"&&ab.responseType!=="blob"){s=ab.responseText;if(ab.getResponseHeader("content-type")&&~ab.getResponseHeader("content-type").indexOf("application/json")){try{s=JSON.parse(s)}catch(af){ae=af;s="Invalid JSON response from server."}}}w();if(!((200<=(ad=ab.status)&&ad<300))){return aa()}else{return ac._finished(L,s,ae)}}})(this);ab.onerror=(function(ac){return function(){if(L[0].status===n.CANCELED){return}return aa()}})(this);T=(P=ab.upload)!=null?P:ab;T.onprogress=w;R={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){p(R,this.options.headers)}for(M in R){v=R[M];if(v){ab.setRequestHeader(M,v)}}r=new FormData();if(this.options.params){E=this.options.params;for(F in E){Q=E[F];r.append(F,Q)}}for(W=0,z=L.length;W<z;W++){I=L[W];this.emit("sending",I,ab,r)}if(this.options.uploadMultiple){this.emit("sendingmultiple",L,ab,r)}if(this.element.tagName==="FORM"){D=this.element.querySelectorAll("input, textarea, select, button");for(V=0,y=D.length;V<y;V++){q=D[V];J=q.getAttribute("name");u=q.getAttribute("type");if(q.tagName==="SELECT"&&q.hasAttribute("multiple")){C=q.options;for(U=0,x=C.length;U<x;U++){N=C[U];if(N.selected){r.append(J,N.value)}}}else{if(!u||((B=u.toLowerCase())!=="checkbox"&&B!=="radio")||q.checked){r.append(J,q.value)}}}}K=0;H=[];for(Y=S=0,A=L.length-1;0<=A?S<=A:S>=A;Y=0<=A?++S:--S){O=(function(ac){return function(ad,ae,af){return function(ag){r.append(ae,ag,af);if(++K===L.length){return ac.submitRequest(ab,r,L)}}}})(this);H.push(this.options.transformFile.call(this,L[Y],O(L[Y],this._getParamName(Y),L[Y].upload.filename)))}return H};n.prototype.submitRequest=function(s,r,q){return s.send(r)};n.prototype._finished=function(t,u,v){var s,r,q;for(r=0,q=t.length;r<q;r++){s=t[r];s.status=n.SUCCESS;this.emit("success",s,u,v);this.emit("complete",s)}if(this.options.uploadMultiple){this.emit("successmultiple",t,u,v);this.emit("completemultiple",t)}if(this.options.autoProcessQueue){return this.processQueue()}};n.prototype._errorProcessing=function(u,t,v){var s,r,q;for(r=0,q=u.length;r<q;r++){s=u[r];s.status=n.ERROR;this.emit("error",s,t,v);this.emit("complete",s)}if(this.options.uploadMultiple){this.emit("errormultiple",u,t,v);this.emit("completemultiple",u)}if(this.options.autoProcessQueue){return this.processQueue()}};return n})(i);g.version="5.1.1";g.options={};g.optionsForElement=function(m){if(m.getAttribute("id")){return g.options[c(m.getAttribute("id"))]}else{return void 0}};g.instances=[];g.forElement=function(m){if(typeof m==="string"){m=document.querySelector(m)}if((m!=null?m.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return m.dropzone};g.autoDiscover=true;g.discover=function(){var r,n,q,o,m,p;if(document.querySelectorAll){q=document.querySelectorAll(".dropzone")}else{q=[];r=function(w){var v,t,s,u;u=[];for(t=0,s=w.length;t<s;t++){v=w[t];if(/(^| )dropzone($| )/.test(v.className)){u.push(q.push(v))}else{u.push(void 0)}}return u};r(document.getElementsByTagName("div"));r(document.getElementsByTagName("form"))}p=[];for(o=0,m=q.length;o<m;o++){n=q[o];if(g.optionsForElement(n)!==false){p.push(new g(n))}else{p.push(void 0)}}return p};g.blacklistedBrowsers=[/opera.*(Windows Phone|Macintosh).*version\/12/i];g.isBrowserSupported=function(){var o,n,m,q,p;o=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){o=false}else{q=g.blacklistedBrowsers;for(n=0,m=q.length;n<m;n++){p=q[n];if(p.test(navigator.userAgent)){o=false;continue}}}}else{o=false}return o};g.dataURItoBlob=function(n){var s,t,q,o,p,m,r;t=atob(n.split(",")[1]);m=n.split(",")[0].split(":")[1].split(";")[0];s=new ArrayBuffer(t.length);o=new Uint8Array(s);for(q=p=0,r=t.length;0<=r?p<=r:p>=r;q=0<=r?++p:--p){o[q]=t.charCodeAt(q)}return new Blob([s],{type:m})};k=function(r,n){var q,o,m,p;p=[];for(o=0,m=r.length;o<m;o++){q=r[o];if(q!==n){p.push(q)}}return p};c=function(m){return m.replace(/[\-_](\w)/g,function(n){return n.charAt(1).toUpperCase()})};g.createElement=function(m){var n;n=document.createElement("div");n.innerHTML=m;return n.childNodes[0]};g.elementInside=function(n,m){if(n===m){return true}while(n=n.parentNode){if(n===m){return true}}return false};g.getElement=function(o,m){var n;if(typeof o==="string"){n=document.querySelector(o)}else{if(o.nodeType!=null){n=o}}if(n==null){throw new Error("Invalid `"+m+"` option provided. Please provide a CSS selector or a plain HTML element.")}return n};g.getElements=function(s,n){var v,o,m,w,t,q,u,r,p;if(s instanceof Array){m=[];try{for(t=0,u=s.length;t<u;t++){o=s[t];m.push(this.getElement(o,n))}}catch(w){v=w;m=null}}else{if(typeof s==="string"){m=[];p=document.querySelectorAll(s);for(q=0,r=p.length;q<r;q++){o=p[q];m.push(o)}}else{if(s.nodeType!=null){m=[s]}}}if(!((m!=null)&&m.length)){throw new Error("Invalid `"+n+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return m};g.confirm=function(m,o,n){if(window.confirm(m)){return o()}else{if(n!=null){return n()}}};g.isValidFile=function(q,n){var o,p,m,s,r;if(!n){return true}n=n.split(",");s=q.type;o=s.replace(/\/.*$/,"");for(p=0,m=n.length;p<m;p++){r=n[p];r=r.trim();if(r.charAt(0)==="."){if(q.name.toLowerCase().indexOf(r.toLowerCase(),q.name.length-r.length)!==-1){return true}}else{if(/\/\*$/.test(r)){if(o===r.replace(/\/.*$/,"")){return true}}else{if(s===r){return true}}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(m){return this.each(function(){return new g(this,m)})}}if(typeof module!=="undefined"&&module!==null){module.exports=g}else{window.Dropzone=g}g.ADDED="added";g.QUEUED="queued";g.ACCEPTED=g.QUEUED;g.UPLOADING="uploading";g.PROCESSING=g.UPLOADING;g.CANCELED="canceled";g.ERROR="error";g.SUCCESS="success";b=function(q){var o,m,w,p,r,v,n,u,s,t;n=q.naturalWidth;v=q.naturalHeight;m=document.createElement("canvas");m.width=1;m.height=v;w=m.getContext("2d");w.drawImage(q,0,0);p=w.getImageData(1,0,1,v).data;t=0;r=v;u=v;while(u>t){o=p[(u-1)*4+3];if(o===0){r=u}else{t=u}u=(r+t)>>1}s=u/v;if(s===0){return 1}else{return s}};e=function(u,n,s,r,t,o,w,v,m,q){var p;p=b(n);return u.drawImage(n,s,r,t,o,w,v,m,q/p)};f=(function(){function m(){}m.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";m.encode64=function(p){var w,u,s,v,t,r,q,o,n;n="";w=void 0;u=void 0;s="";v=void 0;t=void 0;r=void 0;q="";o=0;while(true){w=p[o++];u=p[o++];s=p[o++];v=w>>2;t=(w&3)<<4|u>>4;r=(u&15)<<2|s>>6;q=s&63;if(isNaN(u)){r=q=64}else{if(isNaN(s)){q=64}}n=n+this.KEY_STR.charAt(v)+this.KEY_STR.charAt(t)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(q);w=u=s="";v=t=r=q="";if(!(o<p.length)){break}}return n};m.restore=function(n,r){var q,p,o;if(!n.match("data:image/jpeg;base64,")){return r}p=this.decode64(n.replace("data:image/jpeg;base64,",""));o=this.slice2Segments(p);q=this.exifManipulation(r,o);return"data:image/jpeg;base64,"+this.encode64(q)};m.exifManipulation=function(r,p){var q,n,o;n=this.getExifArray(p);o=this.insertExif(r,n);q=new Uint8Array(o);return q};m.getExifArray=function(p){var o,n;o=void 0;n=0;while(n<p.length){o=p[n];if(o[0]===255&o[1]===225){return o}n++}return[]};m.insertExif=function(o,v){var u,w,q,n,t,r;n=o.replace("data:image/jpeg;base64,","");q=this.decode64(n);for(var s=0;s<q.length;s++){if(q[s]===255&&q[s+1]===225){var p=q[s+2]*256+q[s+3]+2;q.splice(s,p)}}r=q.indexOf(255,3);t=q.slice(0,r);w=q.slice(r);u=t;u=u.concat(v);u=u.concat(w);return u};m.slice2Segments=function(o){var r,q,s,n,p;q=0;p=[];while(true){if(o[q]===255&o[q+1]===218){break}if(o[q]===255&o[q+1]===216){q+=2}else{s=o[q+2]*256+o[q+3];r=q+s+2;n=o.slice(q,r);p.push(n);q=r}if(q>o.length){break}}return p};m.decode64=function(r){var n,o,y,w,u,x,v,t,s,q,p;p="";y=void 0;w=void 0;u="";x=void 0;v=void 0;t=void 0;s="";q=0;o=[];n=/[^A-Za-z0-9\+\/\=]/g;if(n.exec(r)){console.warning("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.")}r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(true){x=this.KEY_STR.indexOf(r.charAt(q++));v=this.KEY_STR.indexOf(r.charAt(q++));t=this.KEY_STR.indexOf(r.charAt(q++));s=this.KEY_STR.indexOf(r.charAt(q++));y=x<<2|v>>4;w=(v&15)<<4|t>>2;u=(t&3)<<6|s;o.push(y);if(t!==64){o.push(w)}if(s!==64){o.push(u)}y=w=u="";x=v=t=s="";if(!(q<r.length)){break}}return o};return m})();d=function(p,t){var x,u,o,w,q,n,v,s,r;o=false;r=true;u=p.document;s=u.documentElement;x=(u.addEventListener?"addEventListener":"attachEvent");v=(u.addEventListener?"removeEventListener":"detachEvent");n=(u.addEventListener?"":"on");w=function(y){if(y.type==="readystatechange"&&u.readyState!=="complete"){return}(y.type==="load"?p:u)[v](n+y.type,w,false);if(!o&&(o=true)){return t.call(p,y.type||y)}};q=function(){var y,z;try{s.doScroll("left")}catch(z){y=z;setTimeout(q,50);return}return w("poll")};if(u.readyState!=="complete"){if(u.createEventObject&&s.doScroll){try{r=!p.frameElement}catch(m){}if(r){q()}}u[x](n+"DOMContentLoaded",w,false);u[x](n+"readystatechange",w,false);return p[x](n+"load",w,false)}};g._autoDiscoverFunction=function(){if(g.autoDiscover){return g.discover()}};d(window,g._autoDiscoverFunction)}).call(this);